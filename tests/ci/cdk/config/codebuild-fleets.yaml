# CodeBuild Fleet Configuration
# This file defines the configuration for multiple CodeBuild fleets with different compute types and scaling options

fleets:
  # 8 vCPUs, 16 GB
  - name: linux-graviton2-c6g-2xlarge
    baseCapacity: 1
    environmentType: ARM_CONTAINER
    customInstanceType: c6g.2xlarge
    scalingConfiguration:
      enabled: true
      utilizationRate: 70
  # 8 vCPUs, 64 GB
  - name: linux-graviton4-r8g-2xlarge
    baseCapacity: 1
    environmentType: ARM_CONTAINER
    customInstanceType: r8g.2xlarge
    scalingConfiguration:
      enabled: true
      utilizationRate: 70
  # 8 vCPUs, 16 GB
  - name: windows-image-build-large
    baseCapacity: 1
    environmentType: WINDOWS_EC2
    computeType: LARGE
    scalingConfiguration:
      enabled: true
      utilizationRate: 70

# Global configuration options
globalSettings:
  # Default tags applied to all fleets
  defaultTags:
    Project: "aws-lc"
    ManagedBy: "cdk"
